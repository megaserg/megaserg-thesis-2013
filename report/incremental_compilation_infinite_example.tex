\input{preamble.tex}

\begin{document}

\input{basic_axioms.tex}

\hrulefill

О шестой аксиоме: похоже, она выводится из остальных:

Пусть $gen(\omega,\sigma_1) = \omega_1$, $gen(\omega,\sigma_2) = \omega_2$, $\omega_1\cap\omega_2\ne\varnothing$. Предположим, что $gen(\omega,\sigma_1\cup\sigma_2)$ определена и равна $\omega^\prime$. Тогда по аксиоме о дизъюнктном разбиении можно (объединяя порождения для соответствующих $s$ и учитывая, что $\sigma_1\cap\sigma_2 = \varnothing$) разделить $\omega^\prime$ на $\omega^\prime_1$ и $\omega^\prime_2$, где $\omega^\prime_1 = gen(\omega\cup\omega^\prime_2,\sigma_1)$, $\omega^\prime_2 = gen(\omega\cup\omega^\prime_1,\sigma_2)$, $\omega^\prime_1 \cap \omega^\prime_2 = \varnothing$. Но по аксиоме ``определены-значит-равны'' $\omega_1 = \omega^\prime_1$ и $\omega_2 = \omega^\prime_2$; таким образом, $\omega_1$ и $\omega_2$ одновременно пересекаются и не пересекаются, значит, предположение об определённости $gen(\omega,\sigma_1\cup\sigma_2)$ неверно.
\\

Наконец, очевидное следствие из аксиомы о дизъюнктном разбиении:

\begin{itemize}
	\item если $gen(\omega,\sigma)=\omega^\prime$, то для любого $\tau \subseteq \sigma$ можно определить $\omega^\prime_\tau =\bigcup\limits_{s\in\tau}\omega^\prime_s$, при этом $\tau_1 \cap \tau_2 = \varnothing \Leftrightarrow \omega^\prime_{\tau_1} \cap \omega^\prime_{\tau_2} = \varnothing$.
\end{itemize}

Если для множества входов $\sigma$ в каком-то контексте определено $gen(..., \sigma)$, то по третьей аксиоме значения $gen(..., \sigma)$ для всех контекстов, где такое значение определено, равны; будем говорить, что они равны $\omega_\sigma$ (без верхнего индекса).

\newpage

Построим пример. $\mathbb{V} = \{a, b\}$, $\Omega = \mathbb{V} \times \mathbb{N}_0
$, $\Sigma = \{f_a, f_b\}$, где $f_v : 2^\Omega \to \Omega$ и
$$f_v(\omega) = \begin{cases}
    (v, 1 + \max(\min\limits_{(a, n)\in\omega} n, \min\limits_{(b, n)\in\omega} n)), & \mbox{если } \exists n: (v, n) \in \omega\\
	(v, 0), & \mbox{если } \nexists n: (v, n) \in \omega
\end{cases}$$
Функция $gen : 2^\Omega \times 2^\Sigma \to 2^\Omega$ определена как $gen(\omega, \{f_{v_i}\}_i) = \bigcup\limits_i f_{v_i}(\omega) = \bigcup\limits_i \{(v_i, n_{v_i})\}$. Контекст можно понимать как набор пар ``переменная-значение''. При этом потребуем, что если для какого-то $i$ $(v_i, n_{v_i}) \in \omega$, то $gen$ не определено.

Заметим, что в $\omega$ могут входить несколько пар с одной и той же переменной на первом месте. При этом для $f_v(\omega) = (v, n)$ верно, что $n$ больше минимума значений переменной $v$ в контексте.

Определим $d_\omega(f_v)$ как $\varnothing$, если в $\omega$ нет пар с $v$; в противном случае для каждой переменной, с которой есть пары в $\omega$, включим в $d_\omega(f_v)$ ту пару, где она содержится с минимальным значением.\\

Проверим, удовлетворяет ли построенный пример аксиомам.
\begin{itemize}
\item Первая выполняется, потому что $gen$ по построению не определено в ситуации пересечения порождений и контекста.
\item Вторая выполняется: действительно, в результате $gen$ каждой функции-входу соответствует ровно одна пара ``переменная-значение''; при этом, если в $\sigma$ более одной функции (то есть две), то можно оставить во входе одну из них и перенести результат другой в контекст; поскольку этот результат больше минимума присутствующих в контексте значений, то результат вычисления первой функции в новом контексте не изменится (то есть получим равенство $gen(\omega\cup\omega^\prime\setminus\omega^\prime_s,\{s\}) = \omega^\prime_s$). 
\item Четвёртая аксиома выполняется: действительно, для вычисления $gen$ необходимым и достаточным является то подмножество контекста, которое мы обозначили $d_\omega(f_v)$; при этом результат вычислений не изменяется при удалении из контекста пар, не принадлежащих $d_\omega(f_v)$, что удовлетворяет седьмой аксиоме.
\item Описанная в пятой аксиоме ситуация никогда не возникает: действительно, $d_{\omega\cup\omega^\prime\setminus\omega^\prime_s}(s)$ на самом деле равно $d_{\omega}(s)$ (потому что в $\omega\cup\omega^\prime\setminus\omega^\prime_s$ минимумы значений совпадают с минимумами в $\omega$), и не может пересекаться с порождениями $s_1$.
\item Ситуация из шестого утверждения тоже никогда не возникает, потому что из дизъюнктности входов следует дизъюнктность порождений.
\end{itemize}

Теперь рассмотрим такую последовательность компиляций:
$$gen(\varnothing, \{f_a, f_b\}) = \{(a,0), (b,0)\} = \omega^{0,0}$$
$$gen(\omega^{0,0}, \{f_a\}) = \{(a,1)\}; \omega^{1,0} = \omega^{0,0} \setminus \omega_{0,a} \cup \omega_{1,a} = \{(a,1), (b,0)\}$$
$$gen(\omega^{1,0}, \{f_b\}) = \{(b,2)\}; \omega^{1,1} = \omega^{1,0} \setminus \omega_{0,b} \cup \omega_{1,b} = \{(a,1), (b,2)\}$$
$$gen(\omega^{1,1}, \{f_a\}) = \{(a,3)\}; \omega^{2,1} = \omega^{1,1} \setminus \omega_{1,a} \cup \omega_{2,a} = \{(a,3), (b,2)\}$$
$$gen(\omega^{2,1}, \{f_b\}) = \{(b,4)\}; \omega^{2,2} = \omega^{2,1} \setminus \omega_{1,b} \cup \omega_{2,b} = \{(a,3), (b,4)\}$$
$$...$$

Получаем бесконечную последовательность компиляций, которая не сходится.

\end{document}